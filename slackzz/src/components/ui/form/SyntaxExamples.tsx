"use client";

/*
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“š è¯­æ³•è¯¦è§£ç¤ºä¾‹ï¼šuseForm é…ç½®
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
*/

import { useForm } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";
import { z } from "zod";

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ç¤ºä¾‹ 1ï¼šåŸºç¡€è¯­æ³•æ‹†è§£
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const formSchema = z.object({
  email: z.string().email(),
  password: z.string().min(6),
});

export function Example1_Basic() {
  // ğŸ”¸ æ–¹å¼1ï¼šä¸€æ¬¡æ€§å†™å®Œï¼ˆæ¨èï¼‰
  const form = useForm({
    resolver: zodResolver(formSchema),
    defaultValues: {
      email: "",
      password: "",
    },
  });

  return <div>ç¤ºä¾‹ 1: åŸºç¡€å†™æ³•</div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ç¤ºä¾‹ 2ï¼šåˆ†æ­¥éª¤å†™æ³•ï¼ˆå¸®åŠ©ç†è§£ï¼‰
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function Example2_StepByStep() {
  // æ­¥éª¤1ï¼šå‡†å¤‡éªŒè¯å‡½æ•°
  const validationResolver = zodResolver(formSchema);
  
  // æ­¥éª¤2ï¼šå‡†å¤‡é»˜è®¤å€¼
  const initialValues = {
    email: "",
    password: "",
  };
  
  // æ­¥éª¤3ï¼šå‡†å¤‡é…ç½®å¯¹è±¡
  const formConfig = {
    resolver: validationResolver,
    defaultValues: initialValues,
  };
  
  // æ­¥éª¤4ï¼šè°ƒç”¨ useForm
  const form = useForm(formConfig);

  return <div>ç¤ºä¾‹ 2: åˆ†æ­¥éª¤å†™æ³•</div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ç¤ºä¾‹ 3ï¼šè¯­æ³•æ¦‚å¿µå¯¹ç…§
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function Example3_Concepts() {
  // ã€æ¦‚å¿µ1ã€‘const - å¸¸é‡å£°æ˜
  const name = "å¼ ä¸‰";  // å£°æ˜å¸¸é‡
  // name = "æå››";     // âŒ é”™è¯¯ï¼ä¸èƒ½é‡æ–°èµ‹å€¼
  
  // ã€æ¦‚å¿µ2ã€‘å¯¹è±¡å­—é¢é‡
  const person = {
    name: "å¼ ä¸‰",      // å±æ€§: å€¼
    age: 25,
  };
  
  // ã€æ¦‚å¿µ3ã€‘å‡½æ•°è°ƒç”¨
  const result = Math.max(1, 2, 3);  // è°ƒç”¨å‡½æ•°ï¼Œä¼ å…¥å‚æ•°
  
  // ã€æ¦‚å¿µ4ã€‘åµŒå¥—å¯¹è±¡
  const config = {
    outer: {           // å¤–å±‚å¯¹è±¡çš„å±æ€§
      inner: "value",  // å†…å±‚å¯¹è±¡çš„å±æ€§
    },
  };
  
  // ã€æ¦‚å¿µ5ã€‘ç»„åˆä½¿ç”¨ - useForm
  const form = useForm({
    //      â†‘ å‡½æ•°è°ƒç”¨
    resolver: zodResolver(formSchema),
    //        â†‘ åµŒå¥—çš„å‡½æ•°è°ƒç”¨
    defaultValues: {
      //           â†‘ åµŒå¥—å¯¹è±¡
      email: "",
    },
  });

  return <div>ç¤ºä¾‹ 3: è¯­æ³•æ¦‚å¿µ</div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ç¤ºä¾‹ 4ï¼šä¸åŒæ•°æ®ç±»å‹çš„ defaultValues
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const multiTypeSchema = z.object({
  username: z.string(),           // å­—ç¬¦ä¸²
  age: z.number(),                // æ•°å­—
  agree: z.boolean(),             // å¸ƒå°”å€¼
  hobbies: z.array(z.string()),   // æ•°ç»„
  settings: z.object({            // åµŒå¥—å¯¹è±¡
    theme: z.string(),
  }),
});

export function Example4_DataTypes() {
  const form = useForm({
    resolver: zodResolver(multiTypeSchema),
    defaultValues: {
      username: "",              // å­—ç¬¦ä¸²åˆå§‹å€¼
      age: 18,                   // æ•°å­—åˆå§‹å€¼
      agree: false,              // å¸ƒå°”å€¼åˆå§‹å€¼
      hobbies: [],               // æ•°ç»„åˆå§‹å€¼
      settings: {                // åµŒå¥—å¯¹è±¡åˆå§‹å€¼
        theme: "light",
      },
    },
  });

  return <div>ç¤ºä¾‹ 4: ä¸åŒæ•°æ®ç±»å‹</div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ç¤ºä¾‹ 5ï¼šresolver å‚æ•°è¯¦è§£
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function Example5_Resolver() {
  // æƒ…å†µ1ï¼šä½¿ç”¨ zodResolverï¼ˆæ¨èï¼‰
  const form1 = useForm({
    resolver: zodResolver(formSchema),  // zod éªŒè¯
  });

  // æƒ…å†µ2ï¼šä¸ä½¿ç”¨ resolverï¼ˆæ— éªŒè¯ï¼‰
  const form2 = useForm({
    // æ²¡æœ‰ resolverï¼Œä¸è¿›è¡ŒéªŒè¯
    defaultValues: { email: "" },
  });

  // æƒ…å†µ3ï¼šè‡ªå®šä¹‰éªŒè¯å‡½æ•°ï¼ˆé«˜çº§ï¼‰
  const form3 = useForm({
    resolver: async (data) => {
      // è‡ªå®šä¹‰éªŒè¯é€»è¾‘
      const errors: any = {};
      if (!data.email) {
        errors.email = { message: "é‚®ç®±ä¸èƒ½ä¸ºç©º" };
      }
      return { values: data, errors };
    },
  });

  return <div>ç¤ºä¾‹ 5: Resolver ç”¨æ³•</div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ç¤ºä¾‹ 6ï¼šå¯¹è±¡å±æ€§ç®€å†™ï¼ˆES6ï¼‰
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function Example6_ObjectShorthand() {
  const email = "";
  const password = "";

  // å†™æ³•1ï¼šæ™®é€šå†™æ³•
  const values1 = {
    email: email,
    password: password,
  };

  // å†™æ³•2ï¼šå±æ€§ç®€å†™ï¼ˆå½“å˜é‡åå’Œå±æ€§åç›¸åŒï¼‰
  const values2 = {
    email,      // ç­‰åŒäº email: email
    password,   // ç­‰åŒäº password: password
  };

  // åœ¨ useForm ä¸­ä¹Ÿå¯ä»¥ç”¨
  const form = useForm({
    defaultValues: { email, password },  // ä½¿ç”¨å˜é‡
  });

  return <div>ç¤ºä¾‹ 6: å¯¹è±¡å±æ€§ç®€å†™</div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ç¤ºä¾‹ 7ï¼šå®Œæ•´æ³¨é‡Šç‰ˆï¼ˆå­¦ä¹ ç”¨ï¼‰
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function Example7_FullyAnnotated() {
  const form = useForm({
    // â†“ è¿™æ˜¯å¯¹è±¡çš„ç¬¬ä¸€ä¸ªå±æ€§
    // â†“ å±æ€§åæ˜¯ resolver
    // â†“ å±æ€§å€¼æ˜¯ zodResolver(formSchema) çš„è¿”å›å€¼
    resolver: zodResolver(formSchema),
    //        â†‘           â†‘
    //        |           â””â”€ å‚æ•°ï¼šéªŒè¯è§„åˆ™å¯¹è±¡
    //        â””â”€ å‡½æ•°åï¼šæŠŠ zod è§„åˆ™è½¬æ¢æˆéªŒè¯å‡½æ•°
    
    // â†“ è¿™æ˜¯å¯¹è±¡çš„ç¬¬äºŒä¸ªå±æ€§
    // â†“ å±æ€§åæ˜¯ defaultValues
    // â†“ å±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆåµŒå¥—å¯¹è±¡ï¼‰
    defaultValues: {
      // â†“ åµŒå¥—å¯¹è±¡çš„ç¬¬ä¸€ä¸ªå±æ€§
      email: "",      // å±æ€§å: email, å€¼: ç©ºå­—ç¬¦ä¸²
      //     â†‘
      //     â””â”€ ç©ºå­—ç¬¦ä¸² ""ï¼ˆä¸æ˜¯ null æˆ– undefinedï¼‰
      
      // â†“ åµŒå¥—å¯¹è±¡çš„ç¬¬äºŒä¸ªå±æ€§
      password: "",   // å±æ€§å: password, å€¼: ç©ºå­—ç¬¦ä¸²
    },
    // â†‘ åµŒå¥—å¯¹è±¡ç»“æŸ
  });
  // â†‘ useForm é…ç½®å¯¹è±¡ç»“æŸ

  return <div>ç¤ºä¾‹ 7: å®Œæ•´æ³¨é‡Š</div>;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ğŸ“ æ€»ç»“ï¼šè¯­æ³•æ¸…å•
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

/*
âœ… æ¶‰åŠçš„è¯­æ³•å’Œæ¦‚å¿µï¼š

1. const - ES6 å¸¸é‡å£°æ˜
   const variable = value;

2. å‡½æ•°è°ƒç”¨
   functionName(argument1, argument2)

3. å¯¹è±¡å­—é¢é‡
   { key: value, key: value }

4. åµŒå¥—å¯¹è±¡
   { outer: { inner: value } }

5. React Hooks
   const result = useHook({ config });

6. å‚æ•°ä¼ é€’
   useForm({ option1: value1, option2: value2 })

7. å˜é‡å¼•ç”¨
   const schema = z.object({ ... });
   useForm({ resolver: zodResolver(schema) })
                                    â†‘ å¼•ç”¨å˜é‡

8. æ–¹æ³•é“¾å¼è°ƒç”¨ï¼ˆåœ¨ schema å®šä¹‰ä¸­ï¼‰
   z.string().email().min(6)
   â†‘        â†‘       â†‘
   å¯¹è±¡     æ–¹æ³•1    æ–¹æ³•2

è®°ä½è¿™äº›è¯­æ³•ï¼Œä½ å°±èƒ½çœ‹æ‡‚å¤§éƒ¨åˆ† React ä»£ç äº†ï¼
*/

export default Example7_FullyAnnotated;

